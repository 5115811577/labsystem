(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b6fa6e5"],{1555:function(e,t,o){},"1a41":function(e,t,o){"use strict";o("1555")},"9e1a":function(e,t,o){"use strict";o("99af");var s=o("b775");t["a"]={getAllCourse:function(e,t,o){return Object(s["a"])({url:"/messervice/course/pageCourseCondition/".concat(e,"/").concat(t),method:"post",data:o})},getCourseList:function(){return Object(s["a"])({url:"/messervice/course",method:"get"})},deletecourseId:function(e){return Object(s["a"])({url:"/messervice/course/".concat(e),method:"delete"})},getCourserInfo:function(e){return Object(s["a"])({url:"/messervice/course/getCourseInfo/".concat(e),method:"get"})},updateCourse:function(e){return Object(s["a"])({url:"/messervice/course/updateCourseInfo",method:"post",data:e})},removeAlyVideo:function(e){return Object(s["a"])({url:"/messervice/course/removeAlyVideo/".concat(e),method:"delete"})},addCourseInfo:function(e){return Object(s["a"])({url:"/messervice/course/addCourseInfo",method:"post",data:e})},getCourseByName:function(e){return Object(s["a"])({url:"/messervice/course/getCourseByName/".concat(e),method:"get"})}}},c986:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"course-page"},[o("h1",{staticClass:"course-name"},[e._v("实验名称："+e._s(e.course.name))]),o("div",[o("label",[e._v(" 课程描述")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.course.description,expression:"course.description"}],domProps:{value:e.course.description},on:{input:function(t){t.target.composing||e.$set(e.course,"description",t.target.value)}}})]),o("br"),o("div",{staticClass:"video-upload"},[e._v(" 下方可以上传教学视频 "),e.course.videourl?o("div",[o("video",{staticStyle:{width:"50%"},attrs:{src:e.course.videourl,controls:""}})]):e._e(),o("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.handleVodUploadSuccess,"on-remove":e.handleVodRemove,"before-remove":e.beforeVodRemove,"on-exceed":e.handleUploadExceed,"file-list":e.fileList,action:"/dev-api/messervice/course/uploadVideo",drag:"",limit:1}},[o("i",{staticClass:"el-icon-video-camera-solid"}),o("div",{staticClass:"el-upload__text"},[e._v("将视频拖到此处可以上传哦 "),o("br"),o("em",[e._v("点击此处也可以上传视频哦")])])])],1),o("div",{staticClass:"document-upload"},[o("a",{staticStyle:{color:"red",border:"1px solid black"},attrs:{href:e.course.docu,target:"_blank"}},[e._v("点击我就可以查看已经上传的文件")]),o("el-upload",{staticClass:"upload-docu",attrs:{action:"dev-api/messervice/course/uploadOssFile","auto-upload":!0,"on-success":e.handleSuccess}},[o("br"),o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传文件")])],1)],1),o("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.submitCourse}},[e._v("确定")])],1)},r=[],c=(o("b0c0"),o("9e1a")),a={data:function(){return{fileList:[],course:{}}},created:function(){this.initCourseInfo()},methods:{initCourseInfo:function(){var e=this;c["a"].getCourserInfo(this.$route.params.id).then((function(t){e.course=t.data.courseInfoVo}))},handleVodRemove:function(){var e=this;c["a"].removeAlyVideo(this.course.videoid).then((function(t){e.$message({type:"success",message:"删除视频成功!"}),e.fileList=[],e.course.videoid=""}))},beforeVodRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleVodUploadSuccess:function(e,t,o){this.course.videoid=e.data.videoid,this.course.videourl=e.data.videourl},handleUploadExceed:function(){this.$message.warning("想要重新上传视频，请先删除已上传的视频")},submitCourse:function(){var e=this;c["a"].updateCourse(this.course).then((function(t){e.$message({type:"success",message:"修改课程成功!"})}))},handleSuccess:function(e,t,o){this.course.docu=e.data.url,console.log("名萨达"+e.data.url)}}},u=a,i=(o("1a41"),o("2877")),n=Object(i["a"])(u,s,r,!1,null,null,null);t["default"]=n.exports}}]);